<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<script>
    // When page loads, check if MVC pushed model errors
    document.addEventListener("DOMContentLoaded", function () {
        var errors = [];

        // Razor will output errors into a JS-safe list
    @foreach (var error in ViewContext.ViewData.ModelState.Values.SelectMany(v => v.Errors))
    {
        <text>
                        errors.push("@error.ErrorMessage".replace(/"/g, '\\"'));
        </text>
    }

        if (errors.length > 0) {
            Swal.fire({
                icon: 'error',
                title: 'Oops!',
                html: errors.join("<br/>"),
                position: 'top',
                toast: true,
                showConfirmButton: false,
                timer: 4000,
            });
        }
    });
</script>
